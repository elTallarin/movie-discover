(this["webpackJsonpmovie-discover"]=this["webpackJsonpmovie-discover"]||[]).push([[0],{36:function(e,t,a){e.exports=a(85)},41:function(e,t,a){},62:function(e,t,a){},64:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){"use strict";a.r(t);var n,r,c=a(0),l=a.n(c),i=a(34),o=a.n(i),s=(a(41),a(42),a(14)),u=a.n(s),m=a(18),v=a(6),E=(a(44),a(17)),f=a.n(E),d="0fc047e0788664547e747b089a4891ce",p="https://api.themoviedb.org/3";function g(){var e="".concat(p,"/").concat(n.CONFIGURATION),t={api_key:d};return f.a.get(e,{params:t}).then((function(e){return e.data}))}function b(){var e="".concat(p,"/").concat(n.DISCOVER),t={api_key:d,language:"en-US",region:"us",sort_by:"popularity.desc",include_adult:"false",include_video:"false",page:"1"};return f.a.get(e,{params:t}).then((function(e){return e.data.results}))}function h(e){var t="".concat(p,"/").concat(n.SEARCH),a={api_key:d,language:"en-US",region:"us",query:e,include_adult:"false",include_video:"false",page:"1"};return f.a.get(t,{params:a}).then((function(e){return e.data.results}))}function O(e){var t="".concat(p,"/").concat(n.DETAIL.replace("{0}","".concat(e))),a={api_key:d,language:"en-US"};return f.a.get(t,{params:a}).then((function(e){return e.data}))}function y(e){var t="".concat(p,"/").concat(n.MOVIE_CAST.replace("{0}","".concat(e))),a={api_key:d};return f.a.get(t,{params:a}).then((function(e){return e.data}))}function N(e){var t="".concat(p,"/").concat(n.TRAILER.replace("{0}","".concat(e))),a={api_key:d};return f.a.get(t,{params:a}).then((function(e){return e.data.results[0].key}))}!function(e){e.CONFIGURATION="configuration",e.DISCOVER="discover/movie",e.SEARCH="search/movie",e.DETAIL="movie/{0}",e.TRAILER="movie/{0}/videos",e.MOVIE_CAST="movie/{0}/credits"}(n||(n={})),function(e){e.GIT="https://github.com/elTallarin/movie-discover",e.TMDB="https://www.themoviedb.org/"}(r||(r={}));a(62);var _=a(19),j=a(86),w=a(16),R=a(5),x=a(87),k=a(88);a(64);function T(){return l.a.createElement("header",{className:"app-header"},l.a.createElement(j.a,{className:"header-container"},l.a.createElement(x.a,null,l.a.createElement(k.a,{xs:12,className:"title"},l.a.createElement(w.b,{to:"/"},l.a.createElement("h1",null,"MD ",l.a.createElement("span",{className:"fa fa-film"})))))))}var I,C={images:{base_url:void 0,poster_sizes:[]}},S=Object(c.createContext)(C),A=(a(69),a(15));function D(e,t){return e&&t&&t.images.base_url?"".concat(t.images.base_url,"w500").concat(e):"http://placecorgi.com/500/750"}!function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.TWO=2]="TWO",e[e.THREE=3]="THREE",e[e.FOUR=4]="FOUR",e[e.FIVE=5]="FIVE"}(I||(I={}));var F=Object(c.createContext)([{value:I.ZERO},function(){}]);var L=a(92);a(70);function M(e){var t=e.movie,a=t.original_title,n=t.vote_average,r=t.poster_url,c=t.id;return l.a.createElement(w.b,{to:"/movie/".concat(c)},l.a.createElement(L.a,{className:"movie-card border-0"},l.a.createElement(L.a.Img,{variant:"top",src:r}),l.a.createElement(L.a.Body,null,l.a.createElement(L.a.Title,null,l.a.createElement("span",{className:"rating fa fa-star checked"}),l.a.createElement("span",null," ",n)),l.a.createElement(L.a.Title,null,a))))}a(71);function U(e){return l.a.createElement("div",null,l.a.createElement(x.a,null,Object(_.isEmpty)(e.movieList)?l.a.createElement(k.a,{xs:12},l.a.createElement("h2",null,"No movies to discover :(")):e.movieList.map((function(e){return l.a.createElement(k.a,{key:e.id,xs:"3",className:"movie-card-container"},l.a.createElement(M,{movie:e}))}))))}var B=a(89),V=a(93),K=a(94);a(72);function W(e){var t=e.selectedRating,a=e.rating,n=e.setRating;return l.a.createElement("span",{onClick:function(){var e=a===t?I.ZERO:a;n(e)},className:"rating fa".concat(t>=a?" fa-star checked":" fa-star-o")})}function Z(){var e=Object(c.useContext)(F),t=Object(v.a)(e,2),a=t[0],n=t[1];function r(e){n({value:e})}return l.a.createElement("div",null,l.a.createElement(W,{selectedRating:a.value,rating:I.ONE,setRating:r}),l.a.createElement(W,{selectedRating:a.value,rating:I.TWO,setRating:r}),l.a.createElement(W,{selectedRating:a.value,rating:I.THREE,setRating:r}),l.a.createElement(W,{selectedRating:a.value,rating:I.FOUR,setRating:r}),l.a.createElement(W,{selectedRating:a.value,rating:I.FIVE,setRating:r}))}a(73);function H(e){var t=Object(c.useState)(""),a=Object(v.a)(t,2),n=a[0],r=a[1];return l.a.createElement("div",{className:"search-and-filter-movies"},l.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e.setQuery({query:n})},className:"search-movies"},l.a.createElement(B.a,{className:"mb-3"},l.a.createElement(V.a,{value:n,onChange:function(e){r(e.target.value)},placeholder:"search"}),l.a.createElement(B.a.Append,null,l.a.createElement(K.a,{className:"discover",variant:"outline-secondary",type:"submit"},"Discover!")))),l.a.createElement("div",{className:"filter-movies"},l.a.createElement(Z,null)))}a(77);function q(e){var t=e.setMovieQuery,a=e.movieList;return l.a.createElement("div",{className:"discover-view"},l.a.createElement(H,{setQuery:t}),l.a.createElement(U,{movieList:a}))}function G(){var e,t,a=Object(c.useContext)(S),n=Object(c.useState)({query:""}),r=Object(v.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)([]),E=Object(v.a)(s,2),f=E[0],d=E[1],p=Object(c.useState)({value:I.ZERO}),g=p[0].value;return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t,n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],!(n=i.query)){e.next=8;break}return e.next=5,h(n);case 5:t=e.sent,e.next=11;break;case 8:return e.next=10,b();case 10:t=e.sent;case 11:r=t.map((function(e){var t=D(e.poster_path,a);return Object(A.a)(Object(A.a)({},e),{},{poster_url:t})})),d(r);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[i,a]),l.a.createElement(F.Provider,{value:p},l.a.createElement(q,{setMovieQuery:o,movieList:(e=f,t=g,t===I.ZERO?e:e.filter((function(e){return function(e,t){var a=e.vote_average,n=2*t;return a>=n-2&&a<n}(e,t)})))}))}var Q=a(90);a(78);function P(e){var t=e.original_title,a=e.genres,n=e.release_date,r=e.vote_average,c=e.vote_count;return l.a.createElement(x.a,{className:"movie-resume"},l.a.createElement(k.a,{xs:"9"},l.a.createElement("h1",{className:"title"},t),l.a.createElement("div",null,"".concat(a," | ").concat(n))),l.a.createElement(k.a,{xs:"3"},l.a.createElement("div",{className:"rating-container"},l.a.createElement("div",{className:"rating-info"},l.a.createElement("span",{className:"rating fa fa-star checked"}),l.a.createElement("span",{className:"rating"},r,l.a.createElement("span",{className:"max-rating"},"/10"))),l.a.createElement("div",{className:"vote-count"},c))))}a(79);function J(e){var t=e.trailerKey;return l.a.createElement(x.a,{className:"movie-trailer"},l.a.createElement(k.a,{className:"videoWrapper",xs:"12"},l.a.createElement("iframe",{title:"video",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"})))}a(80);function z(e){var t=e.details,a=e.trailerKey,n=t&&Array.isArray(t.genres)?t.genres.map((function(e){return e.name})).reduce((function(e,t,a){var n=0===a?t:", ".concat(t);return e.concat(n)}),""):"";return l.a.createElement(x.a,{className:"movie-main"},l.a.createElement(k.a,{xs:"4"},l.a.createElement(Q.a,{src:null===t||void 0===t?void 0:t.poster_url,thumbnail:!0})),l.a.createElement(k.a,{xs:"8"},l.a.createElement(P,{original_title:(null===t||void 0===t?void 0:t.original_title)||"",genres:n,release_date:(null===t||void 0===t?void 0:t.release_date)||"",vote_average:(null===t||void 0===t?void 0:t.vote_average)||-1,vote_count:(null===t||void 0===t?void 0:t.vote_count)||-1}),l.a.createElement(J,{trailerKey:a||""})))}a(81);function $(e){var t=e.overview;return l.a.createElement(x.a,{className:"movie-overview"},l.a.createElement(k.a,{xs:"12"},l.a.createElement("h4",null,"Overview"),l.a.createElement("p",null,t)))}var X=a(91);a(82);function Y(e){var t=e.cast,a=Object(c.useState)(!1),n=Object(v.a)(a,2),r=n[0],i=n[1];return l.a.createElement(x.a,{className:"movie-cast"},l.a.createElement(k.a,{xs:"12"},l.a.createElement("h4",null,"Cast"),l.a.createElement(X.a,{striped:!0,bordered:!1,hover:!0},l.a.createElement("tbody",null,(r?t:t.slice(0,9)).map((function(e){return l.a.createElement("tr",{key:e.id},l.a.createElement("td",null,l.a.createElement(Q.a,{height:"44",width:"32",src:e.profile_url})),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.character))}))))),l.a.createElement(k.a,{className:"actions",xs:"12"},l.a.createElement(K.a,{onClick:function(){i(!r)},variant:"link"},r?"show less":"show more")))}a(83);function ee(e){var t=e.details,a=e.cast,n=e.trailerKey;return l.a.createElement("div",{className:"movie-detail"},l.a.createElement(z,{details:t,trailerKey:n||""}),l.a.createElement($,{overview:(null===t||void 0===t?void 0:t.overview)||""}),l.a.createElement("hr",null),l.a.createElement(Y,{cast:a||[]}))}function te(e){var t=e.match.params.movieId,a=Object(c.useContext)(S),n=Object(c.useState)(null),r=Object(v.a)(n,2),i=r[0],o=r[1],s=Object(c.useState)(null),E=Object(v.a)(s,2),f=E[0],d=E[1],p=Object(c.useState)(void 0),g=Object(v.a)(p,2),b=g[0],h=g[1];return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var n,r,c,l,i,s,m;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([O(+t),y(+t),N(+t)]);case 2:n=e.sent,r=Object(v.a)(n,3),c=r[0],l=r[1],i=r[2],s=D(c.poster_path,a),m=l.cast.map((function(e){var t=D(e.profile_path,a);return Object(A.a)(Object(A.a)({},e),{},{profile_url:t})})),o(Object(A.a)(Object(A.a)({},c),{},{poster_url:s})),d(m),h(i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t,o,a,d]),l.a.createElement(ee,{details:i,cast:f,trailerKey:b})}function ae(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Not Found!"))}a(84);function ne(){function e(e){window.open(e,"_blank")}return l.a.createElement("footer",{className:"app-footer"},l.a.createElement(j.a,{className:"footer-container"},l.a.createElement(x.a,null,l.a.createElement(k.a,{className:"footer-links",xs:12},l.a.createElement("span",{onClick:e.bind({},r.TMDB),className:"external"},"TMDB"),l.a.createElement("span",{onClick:e.bind({},r.GIT),className:"external fa fa-github"})))))}function re(){var e=Object(R.g)().pathname;return Object(c.useEffect)((function(){window.scrollTo(0,0)}),[e]),null}function ce(){var e=Object(c.useContext)(S);return l.a.createElement(w.a,null,l.a.createElement(re,null),l.a.createElement(T,null),l.a.createElement(j.a,{className:"main-container"},Object(_.isEmpty)(e)?l.a.createElement("div",null,"..."):l.a.createElement(R.d,null,l.a.createElement(R.a,{from:"/movie-discover",to:"/"}),l.a.createElement(R.b,{exact:!0,path:"/",component:G}),l.a.createElement(R.b,{path:"/movie/:movieId",component:te}),l.a.createElement(R.b,{path:"*"},l.a.createElement(ae,null)))),l.a.createElement(ne,null))}var le=function(){var e=Object(c.useState)({}),t=Object(v.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){function e(){return(e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,n(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),l.a.createElement(S.Provider,{value:a},l.a.createElement(ce,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.9c493a97.chunk.js.map